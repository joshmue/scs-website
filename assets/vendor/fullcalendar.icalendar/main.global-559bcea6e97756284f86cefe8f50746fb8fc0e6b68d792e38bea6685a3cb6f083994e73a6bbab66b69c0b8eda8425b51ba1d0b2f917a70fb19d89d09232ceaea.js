var FullCalendarICalendar=function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t["default"]=e,Object.freeze(t)}function a(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){r.status>=200&&r.status<400?t(r.responseText,r):n("Request failed",r)},r.onerror=function(){return n("Request failed",r)},r.send(null)}function i(e,n){for(var r=t.addDays(n.start,-1),a=t.addDays(n.end,1),i=e.between(r,a),s=[],c=0,f=i.events;c<f.length;c++){var p=f[c];s.push(l(l({},o(p)),{start:p.startDate.toString(),end:u(p)&&p.endDate?p.endDate.toString():null}))}for(var d=0,v=i.occurrences;d<v.length;d++){var h=v[d],p=h.item;s.push(l(l({},o(p)),{start:h.startDate.toString(),end:u(p)&&h.endDate?h.endDate.toString():null}))}return s}function o(e){return{title:e.summary,url:s(e),extendedProps:{location:e.location,organizer:e.organizer,description:e.description}}}function s(e){var t=e.component.getFirstProperty("url");return t?t.getFirstValue():""}function u(e){return Boolean(e.component.getFirstProperty("dtend"))||Boolean(e.component.getFirstProperty("duration"))}var c=r(n),l=function(){return(l=Object.assign||function e(t){for(var n,r=1,a=arguments.length;r<a;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},f=function(){function e(e){this.maxIterations=null!=e.maxIterations?e.maxIterations:1e3,this.skipInvalidDates=null!=e.skipInvalidDates&&e.skipInvalidDates,this.jCalData=c.parse(e.ics),this.component=new c.Component(this.jCalData),this.events=this.component.getAllSubcomponents("vevent").map(function(e){return new c.Event(e)}),this.skipInvalidDates&&(this.events=this.events.filter(function(e){try{return e.startDate.toJSDate(),e.endDate.toJSDate(),!0}catch(t){return!1}}))}return e.prototype.between=function(e,t){function n(n,r){return(!e||r>=e.getTime())&&(!t||n<=t.getTime())}function r(e){var t=e.startDate.toJSDate().getTime(),n=e.endDate.toJSDate().getTime();return e.endDate.isDate&&n>t&&(n-=1),{startTime:t,endTime:n}}var a=this,i=[];this.events.forEach(function(e){e.isRecurrenceException()&&i.push(e)});var o={events:[],occurrences:[]};return this.events.filter(function(e){return!e.isRecurrenceException()}).forEach(function(e){var s=[];if(e.component.getAllProperties("exdate").forEach(function(e){var t=e.getFirstValue();s.push(t.toJSDate().getTime())}),e.isRecurring()){var u=e.iterator(),c=void 0,l=0,f=function(){if(l+=1,c=u.next()){var a=e.getOccurrenceDetails(c),f=r(a),p=f.startTime,d=f.endTime,v=-1!==s.indexOf(p),h=i.find(function(t){return t.uid===e.uid&&t.recurrenceId.toJSDate().getTime()===a.startDate.toJSDate().getTime()});if(t&&p>t.getTime())return"break";n(p,d)&&(h?o.events.push(h):v||o.occurrences.push(a))}};do{var p;if("break"===f())break}while(c&&(!a.maxIterations||l<a.maxIterations))}else{var d=r(e),v,h;n(d.startTime,d.endTime)&&o.events.push(e)}}),o},e.prototype.before=function(e){return this.between(undefined,e)},e.prototype.after=function(e){return this.between(e)},e.prototype.all=function(){return this.between()},e}(),p={parseMeta:function(e){return e.url&&"ics"===e.format?{url:e.url,format:"ics"}:null},fetch:function(e,t,n){function r(r,a,o){r?n({message:r,xhr:o}):t({rawEvents:i(a,e.range),xhr:o})}var o=e.eventSource.meta,s=o.internalState;!s||e.isRefetch?(s=o.internalState={completed:!1,callbacks:[r],errorMessage:"",iCalExpander:null,xhr:null},a(o.url,function(e,t){for(var n=new f({ics:e,skipInvalidDates:!0}),r=0,a=s.callbacks;r<a.length;r++){var i;(0,a[r])("",n,t)}s.completed=!0,s.callbacks=[],s.iCalExpander=n,s.xhr=t},function(e,t){for(var n=0,r=s.callbacks;n<r.length;n++){var a;(0,r[n])(e,null,t)}s.completed=!0,s.callbacks=[],s.errorMessage=e,s.xhr=t})):s.completed?r(s.errorMessage,s.iCalExpander,s.xhr):s.callbacks.push(r)}},d=t.createPlugin({eventSourceDefs:[p]});return t.globalPlugins.push(d),e["default"]=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar,ICAL);
//# sourceMappingURL=/assets/source-maps/vendor/fullcalendar.icalendar/main.global.js.map
//# sourceURL=_assets/vendor/fullcalendar.icalendar/main.global.js
